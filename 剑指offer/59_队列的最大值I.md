# 题目链接
https://leetcode.cn/problems/hua-dong-chuang-kou-de-zui-da-zhi-lcof/description/
# 题目（困难）

提示：

你可以假设输入总是有效的，在输入数组不为空的情况下：

- 1 <= limit <= heights.length
- -10000 <= heights[i] <= 10000
- 注意：本题与主站 239 题相同：https://leetcode-cn.com/problems/sliding-window-maximum/

# 题解

## 单调栈(减)

```js
var maxSlidingWindow = function(nums, k) {
    let res = [];
  let stack = []; // 存放下标
  for (let i = 0; i < nums.length; i++) {
    if (i - stack[0] >= k) { //在滑动窗口之外的直接从队头删掉
      stack.shift();
    }
    while (stack.length > 0 && nums[stack[stack.length - 1]] < nums[i]) {
      stack.pop();
    }
    stack.push(i); // 存储索引
    if (i + 1 >= k) {  // 开始存结果
         res.push(nums[stack[0]]);
     }
  }
  return res;
};
```

**复杂度分析：**

- 时间复杂度为：O(N)
- 空间复杂度为：O(N)